"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,n=require("react"),e=(t=n)&&"object"==typeof t&&"default"in t?t.default:t;const r=function(){function t(){}return t.prototype.then=function(n,e){const r=new t,i=this.s;if(i){const t=1&i?n:e;if(t){try{o(r,1,t(this.v))}catch(t){o(r,2,t)}return r}return this}return this.o=function(t){try{const i=t.v;1&t.s?o(r,1,n?n(i):i):e?o(r,1,e(i)):o(r,2,i)}catch(t){o(r,2,t)}},r},t}();function o(t,n,e){if(!t.s){if(e instanceof r){if(!e.s)return void(e.o=o.bind(null,t,n));1&n&&(n=e.s),e=e.v}if(e&&e.then)return void e.then(o.bind(null,t,n),o.bind(null,t,2));t.s=n,t.v=e;const i=t.o;i&&i(t)}}function i(t){return t instanceof r&&1&t.s}const u="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var s=function(t){void 0===t&&(t=0);try{return Promise.resolve(new Promise((function(n){return setTimeout(n,t)})))}catch(t){return Promise.reject(t)}},c=function(t){return e.createElement(n.Fragment,Object.assign({},t))},f=function(){function t(n,r){var o=this;void 0===r&&(r={}),this.config=t.Configuration,this.initialMount=r.mount,this.onBeforeMount=r.onBeforeMount,this.opts=r,this.props=r.props||{},this.TestedComponent=n,!this.TestedComponent&&this.initialMount&&(this.TestedComponent=c,this.initialMount=e.createElement(this.TestedComponent,null,this.initialMount)),this.config.getValidHooks("onInit").forEach((function(t){return t.onInit(o)}))}var n,f=t.prototype;return f.getWrappers=function(){var t=this,n=[];return this.config.getValidHooks("component").forEach((function(e){var r,o;n.push({component:e.component,name:e.name,props:(r=t,o=e.props,"function"==typeof o?o(r):o)})})),n},f.debug=function(){console.log(this.wrapper.debug())},f.html=function(){return this.component.html()},f.text=function(){return this.component.text()},f.find=function(t){return this.wrapper.find(t)},f.update=function(){return this.wrapper.update()},f.sleep=function(t){try{return Promise.resolve(s(t)).then((function(){}))}catch(t){return Promise.reject(t)}},f.refresh=function(t){try{var n=this;return Promise.resolve(s(t)).then((function(){n.update()}))}catch(t){return Promise.reject(t)}},f.getComponent=function(t){return"string"==typeof(n=t)||n instanceof String?this.find(t).first():t;var n},f.changeInput=function(t,n){var e=this.getComponent(t);e.simulate("focus"),e.simulate("change",{target:{value:n}}),e.simulate("blur")},f.checkBox=function(t,n){void 0===n&&(n=!0),this.getComponent(t).simulate("change",{target:{checked:n}})},f.click=function(t){this.getComponent(t).simulate("click")},f.submit=function(t){void 0===t&&(t="form");try{return this.getComponent(t).simulate("submit"),Promise.resolve(this.refresh()).then((function(){}))}catch(t){return Promise.reject(t)}},f.mount=function(t){void 0===t&&(t={});try{var n=function(){function n(){var n=s.initialMount||e.createElement(s.TestedComponent,Object.assign({},s.props)),r=s.getWrappers().reduce((function(t,n){var r=!1!==n.renderChildren&&t;return n.props?e.createElement(n.component,Object.assign({},n.props),r):t}),n);return Promise.resolve(s.config.enzyme.mount(r)).then((function(n){s.wrapper=n;var e=function(){if(!1!==t.async){var n=function(){return Promise.resolve(function(){try{return Promise.resolve(new Promise((function(t,n){return setImmediate(t)})))}catch(t){return Promise.reject(t)}}()).then((function(){return Promise.resolve(s.refresh()).then((function(){}))}))},e=function(){if(s.instance)return Promise.resolve(s.instance.componentDidMount()).then((function(){}))}();return e&&e.then?e.then(n):n()}}();return e&&e.then?e.then((function(){return s})):s}))}var r=function(){if(s.onBeforeMount)return Promise.resolve(s.onBeforeMount(s)).then((function(){}))}();return r&&r.then?r.then(n):n()},s=this,c=function(t,n,e){if("function"==typeof t[u]){var s,c,f,a=t[u]();if(function t(e){try{for(;!(s=a.next()).done;)if((e=n(s.value))&&e.then){if(!i(e))return void e.then(t,f||(f=o.bind(null,c=new r,2)));e=e.v}c?o(c,1,e):c=e}catch(t){o(c||(c=new r),2,t)}}(),a.return){var h=function(t){try{s.done||a.return()}catch(t){}return t};if(c&&c.then)return c.then(h,(function(t){throw h(t)}));h()}return c}if(!("length"in t))throw new TypeError("Object is not iterable");for(var m=[],l=0;l<t.length;l++)m.push(t[l]);return function(t,n,e){var u,s,c=-1;return function e(f){try{for(;++c<t.length;)if((f=n(c))&&f.then){if(!i(f))return void f.then(e,s||(s=o.bind(null,u=new r,2)));f=f.v}u?o(u,1,f):u=f}catch(t){o(u||(u=new r),2,t)}}(),u}(m,(function(t){return n(m[t])}))}(s.config.getValidHooks("onBeforeMount"),(function(n){return Promise.resolve(n.onBeforeMount(s,t)).then((function(){}))}));return Promise.resolve(c&&c.then?c.then(n):n())}catch(t){return Promise.reject(t)}},(n=[{key:"instance",get:function(){return(t=this.component.instance())&&(t.wrappedInstance||t);var t}},{key:"component",get:function(){return this.wrapper.find(this.TestedComponent)}}])&&function(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,n),t}(),a=new(function(){function t(t){this.hooks={},this.Tester=t,t.Configuration=this}var n=t.prototype;return n.configure=function(t,n){var e=this;return this.enzyme=t,n.hooks&&n.hooks.forEach((function(t){e.registerHook(t)})),this.Tester},n.registerHook=function(t){if(!t.name)throw new Error("Tester.registerHook() : A hooks must have a name.");if(this.hooks[t.name])throw new Error('Tester.registerHook() : A hook named "'+t.name+'" already exist.');this.hooks[t.name]=t},n.getValidHooks=function(t){var n=[];return Object.values(this.hooks).forEach((function(e){var r=!0;t&&!e[t]&&(r=!1),r&&n.push(e)})),n},t}())(f);exports.Tester=f,exports.TesterConfig=a;
//# sourceMappingURL=tester.cjs.production.min.js.map
